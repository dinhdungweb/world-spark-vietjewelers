generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Spark {
  id              String    @id @default(uuid())
  text            String
  latitude        Decimal   @db.Decimal(8, 5)
  longitude       Decimal   @db.Decimal(8, 5)
  category        String    @db.VarChar(100)
  locationDisplay String    @map("location_display") @db.VarChar(255)
  status          String    @default("pending") @db.VarChar(20)
  createdAt       DateTime  @default(now()) @map("created_at")
  approvedAt      DateTime? @map("approved_at")

  @@index([status])
  @@index([createdAt])
  @@index([status, approvedAt])
  @@map("sparks")
}

model Category {
  id        String   @id @default(uuid())
  name      String   @unique @db.VarChar(100)
  createdAt DateTime @default(now()) @map("created_at")

  @@map("categories")
}

model AdminUser {
  id           String   @id @default(uuid())
  email        String   @unique @db.VarChar(255)
  passwordHash String   @map("password_hash") @db.VarChar(255)
  createdAt    DateTime @default(now()) @map("created_at")

  @@map("admin_users")
}
